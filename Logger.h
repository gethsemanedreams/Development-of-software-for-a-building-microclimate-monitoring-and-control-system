#pragma once               // Защита от повторного включения заголовочного файла

#include <string>
#include <fstream>

//
// Класс Logger предназначен для записи текстовых сообщений в файл журнала.
// Используется системой мониторинга для сохранения истории событий (ошибок,
// изменений состояния датчиков, предупреждений и т.д.).
//
class Logger
{
private:
    // Имя файла, в который будет выполняться запись журнала
    std::string m_fileName;

    // Поток вывода файла. Управляет записью данных в файл.
    std::ofstream m_stream;

public:
    // Статическое поле (одно на весь класс).
    // Хранит имя файла журнала по умолчанию.
    // Объявление (реальное значение задаётся в Logger.cpp).
    static const std::string DEFAULT_NAME;

public:
    // Конструктор по умолчанию.
    // Устанавливает имя файла журнала равным DEFAULT_NAME.
    Logger();

    // Конструктор с параметром.
    // Позволяет задать конкретное имя файла для журнала.
    Logger(const std::string& fileName);

    // Деструктор.
    // Закрывает файл, если он был открыт.
    ~Logger();

    // Открывает файл для записи (в режиме добавления).
    // Если файл уже существует — новые записи добавляются в конец.
    void Open();

    // Записывает строковое сообщение в файл журнала, если файл открыт.
    void Write(const std::string& message);

    // Закрывает поток файла (если он открыт).
    void Close();
};